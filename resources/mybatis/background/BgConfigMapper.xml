<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BgConfigMapper">
	<sql id="configColumns">configId,configType,configName,param1,param2,param3,param4,isOpen</sql>
	
	<resultMap type="BgConfig" id="configResultMap">
		<id column="configId" property="configId"/>
		<result column="configType" property="configType"/>
		<result column="configName" property="configName"/>
		<result column="param1" property="param1"/>
		<result column="param2" property="param2"/>
		<result column="param3" property="param3"/>
		<result column="param4" property="param4"/>
		<result column="isOpen" property="isOpen"/>
	</resultMap>
	
	<!-- 新增配置 -->
	<insert id="addConfig" parameterType="BgConfig">
		insert into bgConfig ( 
			<include refid="configColumns"/>
		) values (
			#{configId},
			#{configType},
			#{configName},
			#{param1},
			#{param2},
			#{param3},
			#{param4},
			#{isOpen}
		)
	</insert>
	
	<!-- 根据configId删配置 -->
	<delete id="deleteConfigById" parameterType="String">
		delete from bgConfig 
		where configId=#{configId} 
	</delete>

	<!-- 编辑配置 -->
	<update id="editConfig" parameterType="BgConfig">
		update bgConfig set 
			configType =#{configType},
			configName  =#{configName} ,
			param1 =#{param1},
			param2 =#{param2},
			param3 =#{param3},
			param4 =#{param4},
			isOpen =#{isOpen}
		where 
			configId=#{configId}
	</update>
	
	<!-- 根据configId获取配置 -->
	<select id="findByConfigId" parameterType="pd" resultType="BgConfig">
		select  <include refid="configColumns"/>
		 from bgConfig 
		 where configId=#{configId}
	</select>
	
	<!-- 根据type获取配置 -->
	<select id="findConfigByConfigType" parameterType="String" resultType="BgConfig">
		select  <include refid="configColumns"/> 
		 from bgConfig 
		 where configType=#{configType}
	</select>		
	
	<!-- 获取所有顶级配置 -->
	<select id="listBgConfig" resultMap="configResultMap">
		select <include refid="configColumns"/> 
		from bgConfig 
		order by configId 
	</select>

	
</mapper>